{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h1>Proyectos</h1>
    <div class="row" id="proyectos-grid">
        <!-- Proyectos ficticios -->
        <div class="col-md-4">
            <div class="card mb-4">
                <img src="https://via.placeholder.com/350x200" class="card-img-top" alt="Proyecto 1">
                <div class="card-body">
                    <h5 class="card-title">App de Fantasía 1</h5>
                    <p class="card-text">Una aplicación para gestionar tareas de manera eficiente.</p>
                    <p class="card-text"><strong>Fecha:</strong> Marzo 2024</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card mb-4">
                <img src="https://via.placeholder.com/350x200" class="card-img-top" alt="Proyecto 2">
                <div class="card-body">
                    <h5 class="card-title">Sitio Web Fantasía</h5>
                    <p class="card-text">Un sitio interactivo para explorar recetas culinarias.</p>
                    <p class="card-text"><strong>Fecha:</strong> Enero 2024</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card mb-4">
                <img src="https://via.placeholder.com/350x200" class="card-img-top" alt="Proyecto 3">
                <div class="card-body">
                    <h5 class="card-title">E-Commerce Fantasía</h5>
                    <p class="card-text">Tienda en línea con carrito y pagos integrados.</p>
                    <p class="card-text"><strong>Fecha:</strong> Febrero 2024</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Reemplaza los proyectos ficticios con datos reales de GitHub usando fetch()
    document.addEventListener("DOMContentLoaded", () => {
        fetch("/api/github/proyectos") // Ruta donde consultarás los proyectos de GitHub
            .then(response => response.json())
            .then(data => {
                const grid = document.getElementById("proyectos-grid");
                grid.innerHTML = ""; // Vacía los proyectos ficticios
                data.proyectos.forEach(proyecto => {
                    const card = `
                        <div class="col-md-4">
                            <div class="card mb-4">
                                <img src="${proyecto.imagen || 'https://via.placeholder.com/350x200'}" class="card-img-top" alt="${proyecto.titulo}">
                                <div class="card-body">
                                    <h5 class="card-title">${proyecto.titulo}</h5>
                                    <p class="card-text">${proyecto.descripcion}</p>
                                    <p class="card-text"><strong>Fecha:</strong> ${proyecto.fecha}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    grid.insertAdjacentHTML("beforeend", card);
                });
            })
            .catch(error => console.error("Error al cargar proyectos:", error));
    });
</script>
{% endblock %}
